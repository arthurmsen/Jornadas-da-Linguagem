import random
import time

print ('Jogo do nim')

while True:
  msg0 = input ('Gostaria de jogar? ')
  msg0 = msg0.lower()
  if msg0 != 'sim':
    break
  print ('')  
  msg1 = input ('Escolha a quantidade de palitos que deseja jogar: ')
  totalpalitos = int (msg1)
  tamanho = totalpalitos
  print ('')

  comeco = ''
  for numero in range (tamanho):
    comeco += '| '
  print (comeco)
  print (comeco)
  print ('')

  while tamanho > 1:
    msg2 = input ('Digite quantos palitos deseja remover (de 1 a 3 palitos): ')
    print ('')
    numero = int (msg2)
    if numero not in [1, 2, 3]:
      print ('Por favor, escolha o número certo de palitos.')
      print ('')
      continue
    vez = 0
    tamanho -= numero
    if tamanho == 1:
      break
    print ('O computador está sorteando o número de palitos a retirar, aguarde.')
    print ('')
    carregamento = ''
    for elemento in range (6):
      carregamento += '*'
      print (carregamento)
      time.sleep (0.5)
    if tamanho > 3:
      computador = random.randint (1, 3)
    if tamanho == 3:
      computador = random.randint (1, 2)
    if tamanho == 2:
      computador = 1
    print  ('')
    print ('Pronto. O computador removeu ' + str (computador) + ' palitos. Agora, está com ' + str (tamanho - computador) + ' palitos no total:')
    print ('')
    comeco = ''
    for palito in range (tamanho - computador):
      comeco += '| '
    print (comeco)
    print (comeco)
    vez = 1
    print ('')
    tamanho -= computador

  if tamanho <= 1:
    if vez == 1:
      print ('Que pena! Não foi dessa vez... Mais sorte na próxima!')
    else:
      print ('Parabéns! Nada melhor do que a vitória!')  
    print ('')  